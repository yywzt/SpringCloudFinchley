<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yw.task.mapper.user.UserTaskRewardMapper">

    <insert id="batchSave" useGeneratedKeys="true" keyProperty="id" parameterType="com.yw.task.common.model.user.UserTaskReward">
        INSERT INTO `user_task_reward`(`task_id`, `user_id`, `level`,`reward_content`, `grant_status`, `serial_number`,
        `memo`)
        VALUES
        <foreach collection="userTaskRewards" item="userTaskReward" separator="," open="(" close=")">
            #{userTaskReward.taskId},#{userTaskReward.userId},#{userTaskReward.level},#{userTaskReward.rewardContent}
            ,#{userTaskReward.grantStatus},#{userTaskReward.serialNumber},#{userTaskReward.memo}
        </foreach>
    </insert>
    <update id="updateGrantStatus">
        UPDATE `user_task_reward` SET grant_status = #{grantStatus}
        <where>
            id IN
            <foreach collection="ids" item="id" separator="," open="(" close=")">
                #{id}
            </foreach>
        </where>
    </update>

</mapper>